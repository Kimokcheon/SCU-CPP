## 简易计算器

基本实现思路为逐位增量读取字符并处理，同时维护操作符栈与数值栈。希望能有 Bug report 。

### 基本语法

- 输入按行处理，结束标识 EOF 或 `quit()` 。
- 输入语句分为两种，赋值语句和计算语句。赋值语句中必须含且仅含有一个 `=` ，其左侧为变量名，右侧为一个表达式，作为赋给该变量的值。
- 赋值语句中，变量名两侧，等号前的空格将被忽略。
- 计算语句中只含有一个表达式，不能存在 `=` 符号。

### 变量名规范

- 变量名中除两侧之外的部分不允许出现空格，否则变量名不合法。

- 变量名必须以大写或小写英文字母或 `_` 开头，区分大小写，且不允许出现保留字符 `+-*/(),` 。变量名大小写敏感。
- 变量名不能与内置数学函数、数学常量重名。

### 表达式规范

- 表达式是一个由常量、加减乘除、左右括号、变量、数学常量和数学函数组成的语句。

- 表达式中的**所有**空格会被忽略，任意在表达式中添加空格不会影响结果。
- 表达式中的括号必须匹配。
- 如果表达式中以任意形式出现了除数为 $0$ 的情况，将返回 `#INFINITE` 。
- 表达式中不能出现非数学函数、数学常量且未被通过赋值语句定义的变量名。
- 不允许缺省乘号，例如不允许 `3x` 或 `2(3+x)` 的语法。这种情况出现时行为未定义。

### 数学函数与常量

- `sqrt(x)` ：必须保证 $x > 0$ ，返回 $x$ 的平方根。否则返回结果非实数的错误报告。
- `exp(x)` ：返回 $e^x$ 。
- `abs(x)` ：返回 $|x|$ 。
- `max(a,b)` ：返回 $\max(a,b)$ 。
- `random()` ：返回 `UINT_MAX` 内的一个随机整数值。若给定参数 $x$ ，则在 $[0,x]$ 中均匀随机一个实数。
- `sin(x)` ：返回弧度制下的 $\sin(x)$ 。
- `E` 自然常数。
- `PI` 圆周率。

### 错误报告（error message）

- 错误报告分为括号匹配、未定义变量名、结果非实数、`#INFINITE` 、变量名非法、常量无法修改。
- 当输入存在多个错误时，仅会返回一个报告，且报告可能是任意一个错误。
- 当输入存在上文未提到的错误或不规范输入时，行为未定义。

